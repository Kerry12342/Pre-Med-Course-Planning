<!--CITE: In collaboration with ChatGPT for html starter code and debugging.-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Pre-Health Planning</title>
    <link rel="stylesheet" href="styles.css">
    <script defer src="script.js"></script>
</head>
<!-- Banner Header -->
<header class="banner">
    <div class="banner-content">
        <div class="hamburger-menu">
            <i class="fas fa-bars"></i>
        </div>
        <div class="logo-section">
            <h1>Hamilton</h1>
            <span class="separator">‚Ä¢</span>
            <span class="subtitle">Hamilton College Premed Planning</span>
        </div>
    </div>
</header>

    <a href="./../student-interface-demo/interface.html">
      <button style="width: 200px; display: block; margin-top: 10px;">Student Interface</button>
    </a>
    <main class="dashboard">

      <h2>Upload a CSV File</h2>
      <input type="file" id="csvFile" accept=".csv">
      <button onclick="convertCSVtoJSON()">Convert to JSON</button>
      <pre id="output"></pre>



      <section class="enrollment">
          <h2>Enrollment by Course</h2>
          <div class="search-bar">
              <input type="text" id="searchCourse" placeholder="Search for Courses">
              <button type="button" onclick="showError()">üîç</button>
            </div>
            <div class="search-bar">
              <input type="text" id="searchSemester" placeholder="Search by Semester">
              <button type="button" onclick="showError()">üîç</button>
            </div>
            <div class="course-list">
              <ul>
                  <li><strong>BIO-100LAB</strong> <br> <span class="note">Num of Students Planned</span> <input type="text" value="3" disabled></li>
                  <li><strong>BIO-100</strong> <br> <span class="note">Num of Students Planned</span> <input type="text" value="5" disabled></li>
                  <li><strong>Chem-400</strong> <br> <span class="note">Num of Students Planned</span> <input type="text" value="5" disabled></li>
              </ul>
            </div>
          </section>

          <section class="student-schedule">
            <h2>View Student Schedule</h2>
            <div class="search-bar">
              <input type="text" id="searchStudent" placeholder="Search for Students">
              <button type="button" onclick="showError()">üîç</button>
            </div>
            <div class="calendar-wrapper">
              <div class="calendar-container">
                  <table class="calendar">
                      <thead>
                        <tr>
                          <th>Fall 2025</th>
                          <th>Spring 2025</th>
                          <th>Fall 2026</th>
                          <th>Spring 2026</th>
                          <th>Fall 2027</th>
                          <th>Spring 2027</th>
                          <th>Fall 2028</th>
                          <th>Spring 2028</th>
                          <th>Fall 2029</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </section>

              <section class="course-management">
                <h2 id="courseTitle">Add Course</h2>
                <button id="toggleCourse" type="button" onclick="toggleCourseMode()">Switch to Delete Course</button>
                <input type="text" id="courseName" placeholder="Enter Course Title Here" style="display: block; margin-bottom: 10px;">
                <select id="track" style="display: block; margin-bottom: 10px;">
                  <option value="">Track</option>
                  <option value="pre-dental-medicine">Pre-Dental-Medicine</option>
                  <option value="pre-medicine">Pre-Medicine</option>
                  <option value="pre-nursing">Pre-Nursing</option>
                  <option value="pre-physical-assistant">Pre-Physical-Assistant</option>
                  <option value="pre-physical-therapy">Pre-Physical-Therapy</option>
                  <option value="pre-veterinary-medicine">Pre-Veterinary-Medicine</option>
                </select>
                <select id="major" style="display: block; margin-bottom: 10px;">
                  <option value="">Major</option>
                  <option value="Biology">Biology</option>
                  <option value="Chemistry">Chemistry</option>
                  <option value="Biochemistry">Biochemistry</option>
                  <option value="Physics">Biochemistry</option>
                </select>
                <select id="semester" style="display: block; margin-bottom: 10px;">
                  <option value="">Semester</option>
                  <option value="Fall 2025">Fall 2025</option>
                  <option value="Spring 2026">Spring 2026</option>
                </select>
                <button type="button" onclick="showError()" style="display: block; margin-top: 10px;">Submit</button>
              </section>
            </main>
          </div>
          </div>

          <div id="popupModal" class="modal" style="display: none;">
            <p id="popupMessage">Error occurred!</p>
            <button id="closePopupBtn" type="button">Close</button>
          </div>







          <script>
            function convertCSVtoJSON() {
              const fileInput = document.getElementById('csvFile');
              const output = document.getElementById('output');
              const file = fileInput.files[0];
              console.log("hello");

          
                if (!file) {
                    alert("Please select a CSV file first.");
                    return;
                }
                console.log("File selected:", file.name);
          
                const reader = new FileReader();
                reader.onload = function (e) {

                  console.log("File read successfully!");
                    const csv = e.target.result;
                    const lines = csv.split("\n");
                    const headers = lines[0].split(",").map(header => header.trim());
                    const jsonData = [];
          
                    for (let i = 1; i < lines.length; i++) {
                        const values = lines[i].split(",").map(value => value.trim());
                        if (values.length === headers.length) {
                            let obj = {};
                            headers.forEach((header, index) => {
                                obj[header] = values[index];
                            });
                            jsonData.push(obj);
                        }
                    }
                    
                    output.textContent = JSON.stringify(jsonData, null, 2);
                };
                reader.readAsText(file);
            }
          </script>











</body>
</html>
